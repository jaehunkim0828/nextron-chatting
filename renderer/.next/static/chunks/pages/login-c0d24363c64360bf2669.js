(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{4618:function(e,n,t){"use strict";var r=t(3823);n.default=void 0;var a,o=(a=t(7378))&&a.__esModule?a:{default:a},i=t(5732),c=t(9826),s=t(8780);var l={};function u(e,n,t,r){if(e&&i.isLocalURL(n)){e.prefetch(n,t,r).catch((function(e){0}));var a=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;l[n+"%"+t+(a?"%"+a:"")]=!0}}var f=function(e){var n,t=!1!==e.prefetch,a=c.useRouter(),f=o.default.useMemo((function(){var n=i.resolveHref(a,e.href,!0),t=r(n,2),o=t[0],c=t[1];return{href:o,as:e.as?i.resolveHref(a,e.as):c||o}}),[a,e.href,e.as]),p=f.href,d=f.as,h=e.children,v=e.replace,m=e.shallow,g=e.scroll,b=e.locale;"string"===typeof h&&(h=o.default.createElement("a",null,h));var j=(n=o.default.Children.only(h))&&"object"===typeof n&&n.ref,w=s.useIntersection({rootMargin:"200px"}),y=r(w,2),x=y[0],O=y[1],E=o.default.useCallback((function(e){x(e),j&&("function"===typeof j?j(e):"object"===typeof j&&(j.current=e))}),[j,x]);o.default.useEffect((function(){var e=O&&t&&i.isLocalURL(p),n="undefined"!==typeof b?b:a&&a.locale,r=l[p+"%"+d+(n?"%"+n:"")];e&&!r&&u(a,p,d,{locale:n})}),[d,p,O,b,t,a]);var k={ref:E,onClick:function(e){n.props&&"function"===typeof n.props.onClick&&n.props.onClick(e),e.defaultPrevented||function(e,n,t,r,a,o,c,s){("A"!==e.currentTarget.nodeName||!function(e){var n=e.currentTarget.target;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&i.isLocalURL(t))&&(e.preventDefault(),null==c&&r.indexOf("#")>=0&&(c=!1),n[a?"replace":"push"](t,r,{shallow:o,locale:s,scroll:c}))}(e,a,p,d,v,m,g,b)},onMouseEnter:function(e){i.isLocalURL(p)&&(n.props&&"function"===typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),u(a,p,d,{priority:!0}))}};if(e.passHref||"a"===n.type&&!("href"in n.props)){var I="undefined"!==typeof b?b:a&&a.locale,L=a&&a.isLocaleDomain&&i.getDomainLocale(d,I,a&&a.locales,a&&a.domainLocales);k.href=L||i.addBasePath(i.addLocale(d,I,a&&a.defaultLocale))}return o.default.cloneElement(n,k)};n.default=f},8780:function(e,n,t){"use strict";var r=t(3823);Object.defineProperty(n,"__esModule",{value:!0}),n.useIntersection=function(e){var n=e.rootMargin,t=e.disabled||!i,s=a.useRef(),l=a.useState(!1),u=r(l,2),f=u[0],p=u[1],d=a.useCallback((function(e){s.current&&(s.current(),s.current=void 0),t||f||e&&e.tagName&&(s.current=function(e,n,t){var r=function(e){var n=e.rootMargin||"",t=c.get(n);if(t)return t;var r=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var n=r.get(e.target),t=e.isIntersecting||e.intersectionRatio>0;n&&t&&n(t)}))}),e);return c.set(n,t={id:n,observer:a,elements:r}),t}(t),a=r.id,o=r.observer,i=r.elements;return i.set(e,n),o.observe(e),function(){i.delete(e),o.unobserve(e),0===i.size&&(o.disconnect(),c.delete(a))}}(e,(function(e){return e&&p(e)}),{rootMargin:n}))}),[t,n,f]);return a.useEffect((function(){if(!i&&!f){var e=o.requestIdleCallback((function(){return p(!0)}));return function(){return o.cancelIdleCallback(e)}}}),[f]),[d,f]};var a=t(7378),o=t(6277),i="undefined"!==typeof IntersectionObserver;var c=new Map},9511:function(e,n,t){"use strict";t.r(n);var r=t(6952),a=t(1717),o=t(8742),i=t.n(o),c=t(9894),s=t(7378),l=t(6677),u=t(6439),f=t(7018),p=t(4626),d=t(8038),h=t(4246);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.default=function(){var e=(0,l.useRouter)(),n=(0,s.useState)({email:"",password:""}),t=n[0],o=n[1],v=function(e){var n=e.target,r=n.value,i=n.name;o(m(m({},t),{},(0,a.Z)({},i,r)))},g=function(){var n=(0,r.Z)(i().mark((function n(a){var o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.preventDefault(),(0,u.e5)(p.I,t.email,t.password).then(function(){var n=(0,r.Z)(i().mark((function n(r){var a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.user.uid,localStorage.setItem("token",a),n.next=4,(0,f.PL)((0,f.hJ)(p.db,"users"));case 4:n.sent.forEach((function(n){if(t.email===n.data().email)return o=n.data().name,localStorage.setItem("name",o),e.push("/main")}));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){window.alert("\uc544\uc774\ub514 \ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694.")}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,s.useEffect)((function(){var n=localStorage.getItem("token");console.log(n),n&&e.push("/main")}),[]),(0,h.jsxs)(s.Fragment,{children:[(0,h.jsx)(d.default,{children:(0,h.jsx)("title",{children:"chatting"})}),(0,h.jsxs)("div",{className:"login",children:[(0,h.jsxs)("div",{className:"login-left",children:[(0,h.jsx)("img",{src:"/images/smallLogo.png",alt:"login-logo"}),(0,h.jsxs)("div",{className:"login-left-content",children:[(0,h.jsx)("p",{children:"Sign In"}),(0,h.jsx)("div",{children:"\uc624\ub298\ub3c4 \uce5c\uad6c\uc640 Chat App \uc5d0\uc11c \ucc44\ud305\uc744 \uc2dc\uc791\ud558\uc138\uc694"}),(0,h.jsx)("div",{children:"\uc27d\uace0 \ud3b8\ub9ac\ud55c \ub300\ud654\ub97c \uc704\ud55c \uc2e4\uc2dc\uac04 \ucc44\ud305 \uc18c\ud504\ud2b8\uc6e8\uc5b4"})]})]}),(0,h.jsxs)("div",{className:"login-right",children:[(0,h.jsx)("img",{src:"/images/loginLogo.png",alt:"right-logo"}),(0,h.jsxs)("form",{onSubmit:g,children:[(0,h.jsxs)("div",{className:"login-input-container",children:[(0,h.jsx)("div",{className:"input-name",children:"\uc774\uba54\uc77c "}),(0,h.jsx)("input",{placeholder:"Email",value:t.email,name:"email",type:"email",onChange:v})]}),(0,h.jsxs)("div",{className:"login-input-container",children:[(0,h.jsx)("div",{className:"input-name",children:"\ube44\ubc00\ubc88\ud638 "}),(0,h.jsx)("input",{placeholder:"Password",value:t.password,name:"password",type:"password",onChange:v})]}),(0,h.jsx)("button",{className:"home-button width",type:"submit",children:"\ub85c\uadf8\uc778"})]}),(0,h.jsx)(c.default,{href:"/register",children:(0,h.jsx)("a",{children:"\uc544\uc774\ub514\uac00 \uc5c6\ub2e4\uba74..."})})]})]})]})}},4626:function(e,n,t){"use strict";t.d(n,{db:function(){return c},I:function(){return s}});var r=t(2671),a=t(6439),o=t(7018);var i=function(e){try{return(0,r.Mq)()}catch(n){return(0,r.ZF)(e)}}({apiKey:"AIzaSyBi0xT-wcmJwlW5LTdw5lGUwwTgjdqwqWk",authDomain:"chatting-app-35460.firebaseapp.com",projectId:"chatting-app-35460",storageBucket:"chatting-app-35460.appspot.com",messagingSenderId:"772140384040",appId:"1:772140384040:web:4a8a69e70f8be2af5a1a1d",measurementId:"G-LQ4MXPXYFT"}),c=(0,o.ad)(i),s=(0,a.v0)(i)},5788:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(9511)}])},9894:function(e,n,t){e.exports=t(4618)}},function(e){e.O(0,[501,119,829,774,888,179],(function(){return n=5788,e(e.s=n);var n}));var n=e.O();_N_E=n}]);