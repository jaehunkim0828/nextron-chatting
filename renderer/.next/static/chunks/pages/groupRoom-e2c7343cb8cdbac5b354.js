(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[537],{6495:function(t,e,r){"use strict";r(7378);var n=r(4246);e.Z=function(t){var e=t.user,r=t.text,a=(t.me,{backgroundColor:e===localStorage.getItem("name")?"#B9D7EA":"#ECEFEF",borderRadius:e===localStorage.getItem("name")?"10px 10px 2px 10px":"10px 10px 10px 2px",margin:"0.4rem 0 0 0"});return(0,n.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:e===localStorage.getItem("name")?"flex-end":"flex-start",padding:"0 0 0.5rem 0"},children:[(0,n.jsx)("div",{children:e}),(0,n.jsx)("div",{style:a,className:"bubble",children:(0,n.jsx)("div",{children:r})})]})}},6571:function(t,e,r){"use strict";r.r(e);var n=r(6952),a=r(5944),o=r(8742),i=r.n(o),c=r(7378),s=r(4626),u=r(6495),l=r(7018),m=r(6677),d=r(4246);e.default=function(){var t=(0,c.useState)(""),e=t[0],r=t[1],o=(0,c.useState)([]),p=o[0],f=o[1],g=(0,c.useState)(""),h=g[0],x=g[1],v=function(){var t=(0,n.Z)(i().mark((function t(){var e,n,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r(JSON.parse(localStorage.getItem("group")).name),localStorage.getItem("token")){t.next=4;break}return window.alert("\ub85c\uadf8\uc778\uc744 \ud574\uc8fc\uc138\uc694."),t.abrupt("return",m.default.push("/home"));case 4:e=JSON.parse(localStorage.getItem("group")),n=(0,l.hJ)(s.db,"group"),a=(0,l.IO)(n,(0,l.Xo)("time","desc")),(0,l.cf)(a,(function(t){var r=[];t.forEach((function(t){var n=t.data().crew.sort();e.crew.toString()===n.toString()&&r.push(t.data())})),f(r)}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,c.useEffect)((function(){v()}),[]),(0,d.jsxs)("div",{className:"main",children:[(0,d.jsxs)("nav",{children:[(0,d.jsx)("img",{src:"/images/smallLogo.png",alt:"nav-logo"}),(0,d.jsx)("button",{className:"sign-out",onClick:function(){localStorage.clear(),m.default.push("/home")},children:"Sign Out"})]}),(0,d.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e=(new Date).getTime(),r=JSON.parse(localStorage.getItem("group")),n={user:localStorage.getItem("name"),time:e,text:h,crew:r.crew};f([n].concat((0,a.Z)(p))),(0,l.ET)((0,l.hJ)(s.db,"group"),n),x("")},className:"room-main-container",children:[(0,d.jsxs)("div",{className:"room-nav",children:[(0,d.jsx)("img",{onClick:function(){return m.default.push("/main")},src:"/images/back.png",alt:"back",style:{width:"2rem",height:"2rem",cursor:"pointer"}}),(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{src:"/images/main-rabbit.png",alt:"rabbit",style:{width:"3rem",height:"2rem"}}),(0,d.jsx)("div",{children:e})]}),(0,d.jsx)("div",{})]}),(0,d.jsx)("div",{className:"room-main",children:p.map((function(t){var e=t.user,r=t.text;return(0,d.jsx)(u.Z,{user:e,text:r,me:e===localStorage.getItem("name")})}))}),(0,d.jsxs)("div",{style:{display:"flex"},children:[(0,d.jsx)("input",{className:"input-text",onChange:function(t){var e=t.target.value;x(e)},value:h}),(0,d.jsx)("button",{className:"button-text",type:"submit",children:"\ubcf4\ub0b4\uae30"})]})]})]})}},4626:function(t,e,r){"use strict";r.d(e,{db:function(){return c},I:function(){return s}});var n=r(2671),a=r(6439),o=r(7018);var i=function(t){try{return(0,n.Mq)()}catch(e){return(0,n.ZF)(t)}}({apiKey:"AIzaSyBi0xT-wcmJwlW5LTdw5lGUwwTgjdqwqWk",authDomain:"chatting-app-35460.firebaseapp.com",projectId:"chatting-app-35460",storageBucket:"chatting-app-35460.appspot.com",messagingSenderId:"772140384040",appId:"1:772140384040:web:4a8a69e70f8be2af5a1a1d",measurementId:"G-LQ4MXPXYFT"}),c=(0,o.ad)(i),s=(0,a.v0)(i)},1365:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/groupRoom",function(){return r(6571)}])},5944:function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"===typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(e,{Z:function(){return a}})}},function(t){t.O(0,[501,119,829,774,888,179],(function(){return e=1365,t(t.s=e);var e}));var e=t.O();_N_E=e}]);